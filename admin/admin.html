<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyCrud | Admin</title>
    <script src="../src/js/3.4.3.js"></script>
</head>
<body class="h-screen bg-black/20 overflow-hidden hidden sm:block">
    <div id="popup" class="hidden fixed h-screen w-screen bg-black/50 grid gap-4 justify-center content-center items-center">
        <div class="flex justify-center close">
            <button class="bg-red-500 p-2 rounded-full text-white" onclick="popup(null)">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                  </svg>                  
            </button>
        </div>
        <div class="pop">
    </div>
    </div>
    <header class="flex justify-between items-center py-4 mx-8 px-4 bg-white">
        <span class="text-2xl app_title uppercase">
           EasyCrud
        </span>
        <div class="flex gap-4">
            <button class="flex gap-1 p-2 rounded">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                </svg>
                <span id="username"></span>
            </button>
            <button class="bg-red-500 text-white px-4 p-2 rounded" onclick="deconnect()">
                Deconnexion
            </button>
        </div>
    </header> 
    <section class="px-8 w-full h-full grid grid-cols-5 py-0" >
        <div id="bar" class="bg-black-100 pb-32 col-span-1 grid gap-2 border-t-0 border-2 focus-within border-black overflow-auto content-start text-left ">
            
        </div>
        <div class="col-span-4 app grid content-start overflow-auto h-full" id="app">

        </div>


        <!-- <div class="articles grid gap-2">
            <div class="flex justify-between items-center bg-white p-4">
                <span class="">Articles</span>
                <button onclick="$('.popup').css('display','grid');$('.new_article').css('display','grid');" class="flex items-center bg-green-500 px-4 py-2 rounded gap-2 text-gray-600 hover:bg-yellow-500">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                    Ajouter                      
                </button>
            </div>

            <table class="bg-white table-auto p-4">
                <thead class="border-2">
                    <tr class="text-left">
                        <th class="p-2">No</th>
                        <th>Titre</th>
                        <th>Creation</th>
                        <th>Vues</th>
                    </tr>
                </thead>
                <tbody class="border-2 ">
                    <tr class="bg-black/10">
                        <td class="p-2">1</td>
                        <td>Savoir Manger</td>
                        <td>2002</td>
                        <td>500</td>
                    </tr>
                </tbody>
                <tbody class="border-2">
                    <tr class="bg-black/10">
                        <td class="p-2">2</td>
                        <td>Savoir Manger</td>
                        <td>2002</td>
                        <td>500</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="gallerie grid hidden">
            <div class="rounded flex justify-between items-center bg-white p-4 mb-4">
                <span class="">Album Photos</span>
                <button class="flex items-center bg-green-500 px-4 py-2 rounded gap-2" onclick="$('.popup').css('display','grid');$('.new_photos').css('display','grid');">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                    </svg>
                    Ajouter                      
                </button>
            </div>
            
            <div class="grid gap-4 mt-4">
                <div class="text-left grid grid-cols-3 justify-between px-4 rounded italic bg-black/50 text-white p-2">
                    <span>le 20 Janvier 2024</span>
                    <span class="col-span-2">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Obcaecati ut quo esse deserunt delectus eius odio fuga aspernatur ipsam dolores. Accusantium, incidunt fugit. Possimus minus eveniet non perferendis est. Corrupti, saepe ipsam dolorem repellendus voluptates quod earum et incidunt? Numquam minus velit magnam ducimus fugit, vitae explicabo nostrum. Quas, quis!</span>
                </div>
                <div class="grid grid-cols-5 gap-5">
                    <img class="rounded" src="../src/smile.jpg" alt="" srcset="">
                    <img class="rounded" src="../src/smile.jpg" alt="" srcset="">
                    <img src="../src/smile.jpg" alt="" srcset="" class="rounded">
                    <img src="../src/smile.jpg" alt="" srcset="" class="rounded">
                    <img src="../src/smile.jpg" alt="" srcset="" class="rounded">
                    <img src="../src/smile.jpg" alt="" srcset="" class="rounded">
                    <img src="../src/smile.jpg" alt="" srcset="" class="rounded">
                    <img src="../src/smile.jpg" alt="" srcset="" class="rounded">
                </div>
            </div>
        </div> -->

    </section>

    <script src="../src/js/jquery.min.js"></script>
    <script src="../src/js/localStorage.js"></script>
    <script src="../src/js/apps.js"></script>
    <script>

        if (db.get('user')==null) {
            window.open('index.html','_self')
        }else{
            $("#username").text(db.get('user')["username"]);
            $.get("../server/?easy_admin-byId="+db.get('user')['id'],
                function (data, textStatus, jqXHR) {
                    if (data.data.length==0) {
                        db.remove("user")
                        window.open('index.html','_self')
                    }else{
                        db.set("user",data.data[0])
                    }
                },
                "json"
            );
        }
        lacrea_load('#bar','apps/Menu/')
        if (db.get('#app')==null) {
           lacrea_load()    
        }else{
            lacrea_load('#app',db.get('#app'))
        }

        function deconnect() {
            db.remove('user')
            window.open('index.html','_self')
        }
    </script>
</body>
</html>